<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Support Chat â€” Sterling Reserve Bank</title>

  <!-- Tailwind & Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body { font-family: 'Inter', sans-serif; background: #f4f6fb; }

    /* Sidebar */
    .sidebar { background:#04182a; color:white; min-height:100vh; }
    .sidebar a { display:block; padding:.75rem 1rem; border-radius:.5rem; margin:.25rem 0; text-decoration:none; }
    .sidebar a.active, .sidebar a:hover { background:#1fb6ff; color:#04182a; font-weight:600; }

    /* Chat */
    .chat-box { height:65vh; overflow-y:auto; padding:1rem; background:white; border-radius:1rem; box-shadow:0 6px 18px rgba(0,0,0,0.06); display:flex; flex-direction:column; gap:0.5rem;}
    .msg { max-width:75%; padding:.75rem 1rem; border-radius:1rem; font-size:.95rem; word-wrap:break-word; }
    .msg.user { background:#1fb6ff; color:white; margin-left:auto; border-bottom-right-radius:.25rem; }
    .msg.admin { background:#e9eef3; color:#04182a; margin-right:auto; border-bottom-left-radius:.25rem; }
    
    /* Typing indicator */
    .typing { display:flex; gap:0.3rem; align-items:center; }
    .typing span { width:8px; height:8px; background:#999; border-radius:50%; animation: blink 1.2s infinite; }
    .typing span:nth-child(2) { animation-delay:0.2s; }
    .typing span:nth-child(3) { animation-delay:0.4s; }
    @keyframes blink { 0%,80%,100% { opacity:0.2; } 40% { opacity:1; } }

    /* Form */
    form input { flex:1; border-radius:0.75rem 0 0 0.75rem; border:1px solid #cbd5e1; padding:0.75rem 1rem; outline:none; }
    form input:focus { border-color:#1fb6ff; box-shadow:0 4px 12px rgba(31,182,255,0.2); }
    form button { border-radius:0 0.75rem 0.75rem 0; background:#1fb6ff; color:white; font-weight:600; padding:0.75rem 1.25rem; transition:0.2s; }
    form button:hover { background:#0fa0e0; }

    /* Responsive */
    @media (max-width:768px) {
      .sidebar { display:none; }
    }
  </style>
</head>
<body class="flex">

  <!-- Sidebar -->
  <div class="sidebar hidden md:block w-60 p-6">
    <h2 class="text-lg font-bold mb-6">Sterling Reserve Bank</h2>
    <a href="dashboard.html" class="active"><i class="fa fa-home mr-2"></i> Dashboard</a>
    <a href="#"><i class="fa fa-sign-out-alt mr-2"></i> Logout</a>
  </div>

  <!-- Main -->
  <div class="flex-1 flex flex-col">
    <!-- Topbar -->
    <header class="flex items-center justify-between px-6 py-4 bg-white shadow">
      <h1 class="text-xl font-bold text-slate-800">Customer Support</h1>
      <a href="dashboard.html"
         class="block py-2 px-4 rounded-lg bg-blue-700 text-white font-semibold hover:bg-blue-800 transition">
        Home
      </a>
    </header>

    <!-- Chat -->
    <main class="flex-1 p-6 flex flex-col">
      <div id="chat-box" class="chat-box">
        <!-- Initial message from admin -->
        <div class="msg admin">
          <p>Hello! How can we assist you today?</p>
          <small class="block text-xs opacity-75 mt-1">Just now</small>
        </div>
      </div>

      <!-- Form -->
      <form id="chat-form" class="mt-4 flex" onsubmit="return sendMessage();">
        <input type="text" id="user-input" placeholder="Type your message..." required />
        <button type="submit">Send</button>
      </form>
    </main>
  </div>

  <script>
    const chatBox = document.getElementById('chat-box');
    const userInput = document.getElementById('user-input');

    function scrollToBottom() {
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function sendMessage() {
      const msg = userInput.value.trim();
      if (!msg) return false;

      // User message
      const userDiv = document.createElement('div');
      userDiv.className = 'msg user';
      userDiv.innerHTML = `<p>${msg}</p><small class="block text-xs opacity-75 mt-1">Just now</small>`;
      chatBox.appendChild(userDiv);
      scrollToBottom();
      userInput.value = '';

      // Admin typing indicator
      const typingDiv = document.createElement('div');
      typingDiv.className = 'msg admin';
      typingDiv.innerHTML = `<div class="typing"><span></span><span></span><span></span></div>`;
      chatBox.appendChild(typingDiv);
      scrollToBottom();

      // Simulate delay and auto-reply
      setTimeout(() => {
        typingDiv.remove();
        const replyDiv = document.createElement('div');
        replyDiv.className = 'msg admin';
        replyDiv.innerHTML = `<p>Thank you for your message. Our support team will review your complaint and get back too you as soon as possible.</p>
                              <small class="block text-xs opacity-75 mt-1">${new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}</small>`;
        chatBox.appendChild(replyDiv);
        scrollToBottom();
      }, 2000 + Math.random()*1500); // random delay 2-3.5s

      return false; // prevent actual form submission
    }

    // Scroll to bottom on load
    scrollToBottom();
  </script>

</body>
</html>
